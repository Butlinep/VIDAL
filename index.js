const {
  WAConnection: _WAConnection,
  MessageType,
  Presence,
  MessageOptions,
  Mimetype,
  MimetypeMap,
  WALocationMessage,
  ChatModification,
  WA_MESSAGE_STUB_TYPES,
  WA_DEFAULT_EPHEMERAL,
  ReclientectMode,
  ProxyAgent,
  GroupSettingChange,
  waChatKey,
  mentionedJid,
  processTime,
} = require("@adiwajshing/baileys");
const simple = require("./lib/simple.js");
const { virtex, vipi } = require("./lib/virtex.js"); 
const { Toxic } = require('./lib/Toxic.js')
const hx = require("hxz-api");
const qrcode = require("qrcode-terminal");
const moment = require("moment-timezone");
const speed = require("performance-now");
const request = require("request");
const { spawn, exec, execSync } = require("child_process");
const fs = require("fs");
const axios = require("axios");
const ffmpeg = require("fluent-ffmpeg");
const { EmojiAPI } = require("emoji-api");
const ig = require("insta-fetcher");
const emoji = new EmojiAPI();
const fetch = require("node-fetch");
const FormData = require("form-data");
const phoneNum = require("awesome-phonenumber");
const gis = require("g-i-s");
const got = require("got");
const imageToBase64 = require("image-to-base64");
const ID3Writer = require("browser-id3-writer");
const crypto = require('crypto')
const yts = require("yt-search");
const ms = require("parse-ms");
const os = require('os');
const toMs = require("ms");
const { error } = require("qrcode-terminal");
const {
  getBuffer,
  h2k,
  generateMessageID,
  getGroupAdmins,
  getRandom,
  banner,
  start,
  info,
  success,
  close,
} = require("./lib/functions");
const { color, bgcolor } = require("./lib/color");
const { virtex90 } = require('./virtex/virtex90')
const { virtex2 } = require('./virtex/virtex2')
const { virtex3 } = require('./virtex/virtex3')
const { virtex4 } = require('./virtex/virtex4')
const { virtex5 } = require('./virtex/virtex5')
const { virtex6 } = require('./virtex/virtex6')
const { virtex7 } = require('./virtex/virtex7')
const { virtex8 } = require('./virtex/virtex8')
const { virtex9 } = require('./virtex/virtex9')
const { ngazap } = require('./virtex/ngazap')
const { virtag } = require('./virtex/virtag')
const { emoji2 } = require('./virtex/emoji2')
const { herodetails } = require('./lib/herodetail.js')
const { herolist } = require('./lib/herolist.js')
const { fetchJson, getBase64, kyun, createExif } = require("./lib/fetcher");
const { yta, ytv, igdl, upload, formatDate } = require("./lib/ytdl");
const { webp2mp4File } = require("./lib/webp2mp4");
const time = moment().tz("Asia/Jakarta").format("HH:mm:ss");
const afk = JSON.parse(fs.readFileSync("./lib/off.json"));
const { sleep, isAfk, cekafk, addafk } = require("./lib/offline");
const { cmdadd } = require("./lib/totalcmd.js");
const voting = JSON.parse(fs.readFileSync("./lib/voting.json"));
const { uptotele, uploadFile, RESTfulAPI, uploadImages } = require('./lib/uploadimage');
const { addVote, delVote } = require("./lib/vote");
const reminder = require("./lib/reminder");
const { jadibot, stopjadibot, listjadibot } = require("./lib/jadibot");
const _reminder = JSON.parse(fs.readFileSync("./database/reminder.json"));
let _registered = JSON.parse(fs.readFileSync('./database/user/registered.json'))
let register = JSON.parse(fs.readFileSync('./database/user/registered.json'))
const antiwame = JSON.parse(fs.readFileSync('./database/antiwame.json'));
const antivirtex = JSON.parse(fs.readFileSync("./database/antivirtex.json"))
const vien = JSON.parse(fs.readFileSync('./database/vien.json'))
const truth = JSON.parse(fs.readFileSync('./database/truth.json'))
const dare = JSON.parse(fs.readFileSync('./database/dare.json'))
const tictactoe = JSON.parse(fs.readFileSync("./database/tictactoe.json"))
const antifake = JSON.parse(fs.readFileSync('./database/antifake.json'))
const autostick = JSON.parse(fs.readFileSync('./database/autostick.json'))


ky_ttt = []
tttawal= ["0Ô∏è‚É£","1Ô∏è‚É£","2Ô∏è‚É£","3Ô∏è‚É£","4Ô∏è‚É£","5Ô∏è‚É£","6Ô∏è‚É£","7Ô∏è‚É£","8Ô∏è‚É£","9Ô∏è‚É£"]
cmhit = []
autorespon = false

//IMAGENES //
const iye = fs.readFileSync('./stik/fake.jpeg')
const iyo = fs.readFileSync('./stik/thumb.jpeg')
const iyg = fs.readFileSync('./stik/thumb1.jpeg')
const hbo = fs.readFileSync('./stik/thumb2.jpeg')
const netf = fs.readFileSync('./stik/netflix.jpeg')
const prbr = fs.readFileSync('./stik/prueba.jpeg')
const asw1 = 'https://i.ibb.co/R6jkZmH/fg1.jpg'
const sip = fs.readFileSync('./stik/oksip.jpeg')
const bgg = fs.readFileSync('./stik/fake.jpeg')
//// IMAGEN ///
const time2 = moment().tz("Asia/Jakarta").format("HH:mm:ss");
    if (time2 < "24:59:00") {
      var ucapanWaktu = "";
    }
    if (time2 < "19:00:00") {
      var ucapanWaktu = "";
    }
    if (time2 < "18:00:00") {
      var ucapanWaktu = "";
    }
    if (time2 < "15:00:00") {
      var ucapanWaktu = "Ô∏è";
    }
    if (time2 < "11:00:00") {
      var ucapanWaktu = "";
    }
    if (time2 < "05:00:00") {
      var ucapanWaktu = "";
    }
 // BATAS \\
menusimpel = false
banChats = false;
offline = false;
antidel = false;
welcom = false;
antical = false;
readGc = true; 
readPc = false;
autovn = false;
multi = true
harga = 0
matauang = 'USD'
nopref = false
numbernye = '0'
autoketik = false;
prefixStatus = true;
targetpc = "51902061233"; 
owner = "51902061233"; 
fakeyoi = "Boss ofc"; 
HunterApi = "Ikyy69", 
xchillds = 'XChillDs' 
hardi = 'hardianto', 
valkey = "rivalgans", 
zeksapi = "vallganz5",
dapapi = "anakasu",
lolh = "HIRO",
ApiZeks = "https://api.zeks.xyz",
zeksApikey = "Alphabott",
nomorowner1 = "@51902061233"; 
fake = ` „Äå Bot de ventas „Äç\nCreador : Boss ofc`;
thumb = fs.readFileSync("./stik/thumb.jpeg"); 
numbernye = "0"; 
waktu = "-";
alasan = "-"; 
autojoin = false;
cmhit = []
hit_today = [];
//=================================================//
let _scommand = JSON.parse(fs.readFileSync("./database/scommand.json"));

// ùóôùòÇùóªùó∞ùó∂ùóºùóª ùó¶ùòÅùó∂ùó∞ùó∏ùó≤ùóø ùóñùóºùó∫ùó∫ùóÆùóªùó±Ô∏é
const addCmd = (id, command) => {
  const obj = { id: id, chats: command };
  _scommand.push(obj);
  fs.writeFileSync("./database/scommand.json", JSON.stringify(_scommand));
};
const getCommandPosition = (id) => {
  let position = null;
  Object.keys(_scommand).forEach((i) => {
    if (_scommand[i].id === id) {
      position = i;
    }
  });
  if (position !== null) {
    return position;
  }
};

const getCmd = (id) => {
  let position = null;
  Object.keys(_scommand).forEach((i) => {
    if (_scommand[i].id === id) {
      position = i;
    }
  });
  if (position !== null) {
    return _scommand[position].chats;
  }
};

const checkSCommand = (id) => {
  let status = false;
  Object.keys(_scommand).forEach((i) => {
    if (_scommand[i].id === id) {
      status = true;
    }
  });
  return status;
};
function monospace(string) {
return '```' + string + '```'
}   
const runtime = function (seconds) {
  seconds = Number(seconds);
  var d = Math.floor(seconds / (3600 * 24));
  var h = Math.floor((seconds % (3600 * 24)) / 3600);
  var m = Math.floor((seconds % 3600) / 60);
  var s = Math.floor(seconds % 60);
  var dDisplay = d > 0 ? d + (d == 1 ? " dia, " : " Dias, ") : "";
  var hDisplay = h > 0 ? h + (h == 1 ? " hora, " : " Horas, ") : "";
  var mDisplay = m > 0 ? m + (m == 1 ? " minuto, " : " Minutos, ") : "";
  var sDisplay = s > 0 ? s + (s == 1 ? " segundo" : " Segundos") : "";
  return dDisplay + hDisplay + mDisplay + sDisplay;
};
module.exports = cnf = async (cnf, mek) => {
  try {
    if (!mek.hasNewMessage) return;
    mek = mek.messages.all()[0];
    if (!mek.message) return;
    if (mek.key && mek.key.remoteJid == "status@broadcast") return;
    global.blocked;
    mek.message =
      Object.keys(mek.message)[0] === "ephemeralMessage"
        ? mek.message.ephemeralMessage.message
        : mek.message;
const typei = Object.keys(mek.message)[0]
const type = Object.keys(mek.message)[0]
let _chats =
      type === "conversation" && mek.message.conversation
        ? mek.message.conversation
        : type == "imageMessage" && mek.message.imageMessage.caption
        ? mek.message.imageMessage.caption
        : type == "videoMessage" && mek.message.videoMessage.caption
        ? mek.message.videoMessage.caption
        : type == "extendedTextMessage" && mek.message.extendedTextMessage.text
        ? mek.message.extendedTextMessage.text
        : type == "buttonsResponseMessage" && mek.message[type].selectedButtonId
        ? mek.message[type].selectedButtonId
        : type == "stickerMessage" &&
          getCmd(mek.message[type].fileSha256.toString("base64")) !== null &&
          getCmd(mek.message[type].fileSha256.toString("base64")) !== undefined
        ? getCmd(mek.message[type].fileSha256.toString("base64"))
        : "";
const isImage = (type === 'imageMessage')
const cmd = (type === 'conversation' && mek.message.conversation) ? mek.message.conversation : (type == 'imageMessage') && mek.message.imageMessage.caption ? mek.message.imageMessage.caption : (type == 'videoMessage') && mek.message.videoMessage.caption ? mek.message.videoMessage.caption : (type == 'extendedTextMessage') && mek.message.extendedTextMessage.text ? mek.message.extendedTextMessage.text : (type == 'stickerMessage') && (getCmd(mek.message.stickerMessage.fileSha256.toString('hex')) !== null && getCmd(mek.message.stickerMessage.fileSha256.toString('base64')) !== undefined) ? getCmd(mek.message.stickerMessage.fileSha256.toString('base64')) : "".slice(1).trim().split(/ +/).shift().toLowerCase()
if (multi){
		    var prefix = /^[.#/]/.test(cmd) ? cmd.match(/^[.#/]/gi) : '#'
        } else {
            if (nopref){
                prefix = ''
            } else {
                prefix = prefa
            }
        }
    const content = JSON.stringify(mek.message);
    const from = mek.key.remoteJid;
    const {
      text,
      extendedText,
      contact,
      location,
      contactsArray,
      liveLocation,
      image,
      video,
      sticker,
      document,
      audio,
      product,
    } = MessageType;
const body = (type === 'listResponseMessage' && mek.message.listResponseMessage.title) ? mek.message.listResponseMessage.title : (type === 'buttonsResponseMessage' && mek.message.buttonsResponseMessage.selectedButtonId) ? mek.message.buttonsResponseMessage.selectedButtonId : (type === 'conversation' && mek.message.conversation.startsWith(prefix)) ? mek.message.conversation : (type == 'imageMessage') && mek.message.imageMessage.caption.startsWith(prefix) ? mek.message.imageMessage.caption : (type == 'videoMessage') && mek.message.videoMessage.caption.startsWith(prefix) ? mek.message.videoMessage.caption : (type == 'extendedTextMessage') && mek.message.extendedTextMessage.text.startsWith(prefix) ? mek.message.extendedTextMessage.text : (type == 'stickerMessage') && (getCmd(mek.message.stickerMessage.fileSha256.toString('base64')) !== null && getCmd(mek.message.stickerMessage.fileSha256.toString('base64')) !== undefined) ? getCmd(mek.message.stickerMessage.fileSha256.toString('base64')) : ""
		const budo = (typei === 'conversation') ? mek.message.conversation : (typei === 'extendedTextMessage') ? mek.message.extendedTextMessage.text : ''
		const budy = (type === 'conversation') ? mek.message.conversation : (type === 'extendedTextMessage') ? mek.message.extendedTextMessage.text : ''
		const command = body.replace(prefix, '').trim().split(/ +/).shift().toLowerCase()
		const args = body.trim().split(/ +/).slice(1)
		const isCmd = body.startsWith(prefix)
		const arg = budy.slice(command.length + 2, budy.length)
		const c = args.join(' ')
    const q = args.join(" ");
		var pes = (type === 'conversation' && mek.message.conversation) ? mek.message.conversation : (type == 'imageMessage') && mek.message.imageMessage.caption ? mek.message.imageMessage.caption : (type == 'videoMessage') && mek.message.videoMessage.caption ? mek.message.videoMessage.caption : (type == 'extendedTextMessage') && mek.message.extendedTextMessage.text ? mek.message.extendedTextMessage.text : ''
		const messagesD = pes.slice(0).trim().split(/ +/).shift().toLowerCase()
    const botNumber = cnf.user.jid;
    
    const botNumberss = cnf.user.jid + "@c.us";
    const isGroup = from.endsWith("@g.us");

    const antilink = JSON.parse(fs.readFileSync("./database/antilink.json"));
    const antivirtex = JSON.parse(
      fs.readFileSync("./database/antivirtex.json")
    );
    
    const kickarea = JSON.parse(fs.readFileSync("./database/antibule.json"));
    const nsfww = JSON.parse(fs.readFileSync('./database/nsfww.json'))
    const bancht = JSON.parse(fs.readFileSync('./database/banchat.json'));
    const antivo = JSON.parse(fs.readFileSync("./database/antivo.json"));
    const antihidetg = JSON.parse(
      fs.readFileSync("./database/antihidetag.json")
    );
    const isAntihidetag = isGroup ? antihidetg.includes(from) : false;
    const isAntiviewonce = isGroup ? antivo.includes(from) : false;
    const isKickarea = isGroup ? kickarea.includes(from) : false;
    const isNsfw = isGroup ? nsfww.includes(from) : false
    const isAutoSt = isGroup ? autostick.includes(from) : false
    const isAntiWame = isGroup ? antiwame.includes(from) : false
    const isAntiFake = isGroup ? antifake.includes(from) : false
    const isAntivirtex = isGroup ? antivirtex.includes(from) : false;
    const isAntilink = isGroup ? antilink.includes(from) : false;
// ùóüùó≤ùó∞ùòÅùòÇùóøùóÆ ùóÆùòÇùòÅùóºùó∫ùóÆùòÅùó∂ùó∞ùóÆ ùó≤ùóª ùôÇùóøùòÇùóΩùóºùòÄ
var ampun = await cnf.chats.array.filter(v => v.jid.endsWith('g.us'))
ampun.map( async ({ jid }) => {
if (readGc === false) return
await cnf.chatRead(jid)
})
// ùóüùó≤ùó∞ùòÅùòÇùóøùóÆ ùóÆùòÇùòÅùóºùó∫ùóÆùòÅùó∂ùó∞ùóÆ ùó≤ùóª ùó£ùòÉ
var chatss = await cnf.chats.array.filter(v => v.jid.endsWith('s.whatsapp.net'))
chatss.map( async ({ jid }) => {
if (readPc === false) return
await cnf.chatRead(jid)
})

// ùòºùô™ùô©ùô§ ùó©ùó°
if (autovn) {
	if (autovn === false) return
await cnf.updatePresence(from, Presence.recording)
} else if (autoketik) {
	if (autoketik === false) return
await cnf.updatePresence(from, Presence.composing)
}
const createSerial = (size) => {
            return crypto.randomBytes(size).toString('hex').slice(0, size)
        }
const checkRegisteredUser = (sender) => {
            let status = false
            Object.keys(_registered).forEach((i) => {
                if (_registered[i].id === sender) {
                    status = true
                }
            })
            return status
        }
    const sender = mek.key.fromMe
      ? cnf.user.jid
      : isGroup
      ? mek.participant
      : mek.key.remoteJid;
    let senderr = mek.key.fromMe
      ? cnf.user.jid
      : mek.key.remoteJid.endsWith("@g.us")
      ? mek.participant
      : mek.key.remoteJid;
    const totalchat = await cnf.chats.all();
    const ownerNumber = [`51902061233@s.whatsapp.net`]
	const senderNumber = sender.split("@")[0] 
    const m = simple.smsg(cnf, mek);
    const groupMetadata = isGroup ? await cnf.groupMetadata(from) : "";
    const groupName = isGroup ? groupMetadata.subject : "";
    const groupId = isGroup ? groupMetadata.jid : "";
    const itsMe = mek.key.fromMe ? true : false
    const groupMembers = isGroup ? groupMetadata.participants : "";
    const groupDesc = isGroup ? groupMetadata.desc : "";
    const isOwner = ownerNumber.includes(sender)
    const groupOwner = isGroup ? groupMetadata.owner : "";
    const hour_now = moment().format('HH:mm:ss')
    const groupAdmins = isGroup ? getGroupAdmins(groupMembers) : "";
    const isBotGroupAdmins = groupAdmins.includes(botNumber) || false;
    const isGroupAdmins = groupAdmins.includes(sender) || false;
    const isBanchat = isGroup ? bancht.includes(from) : false
    const isAdmin = groupAdmins.includes(sender) || false
    const isVote = isGroup ? voting.includes(from) : false;
    const conts = mek.key.fromMe
    idttt = []
	    ers1 = []
	    ers2 = []
	    gilir = []
	    for (let t of ky_ttt){
	    idttt.push(t.id)
	    ers1.push(t.er1)
	    ers2.push(t.er2)
	    gilir.push(t.gilir)
	    }
	    const isTTT = isGroup ? idttt.includes(from) : false
	    iser1 = isGroup ? ers1.includes(sender) : false
        iser2 = isGroup ? ers2.includes(sender) : false
      ? cnf.user.jid
      : cnf.contacts[sender] || { notify: jid.replace(/@.+/, "") };
    const pushname = mek.key.fromMe
      ? cnf.user.name
      : conts.notify || conts.vname || conts.name || " „Äå  NewBot  „Äç\nCreador : Boss ofc";
    const readmore = "ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè";
    if (prefix && command) cmdadd();
    const totalhit = JSON.parse(fs.readFileSync("./lib/totalcmd.json"))[0]
      .totalcmd;
    //Y
const timeWib = moment.tz('Asia/Jakarta').format('DD/MM HH:mm:ss')
		const timeWita = moment().tz('Asia/Makassar').format('DD/MM HH:mm:ss')
        const timeWit = moment().tz('Asia/Jayapura').format('DD/MM HH:mm:ss')
    const time = moment.tz("Asia/Jakarta").format("DD/MM HH:mm:ss");
    const jam = moment().tz("Asia/Jakarta").format("HH:mm:ss");
    const wita = moment.tz("Asia/Makassar").format("HH:mm:ss");
    const wit = moment.tz("Asia/Jayapura").format("HH:mm:ss");
    let locale = "id";
    let d = new Date();
    let gmt = new Date(0).getTime() - new Date("1 January 1970").getTime();
    let weton = ["Pahing", "Pon", "Wage", "Kliwon", "Legi"][
      Math.floor((d * 1 + gmt) / 84600000) % 5
    ];
    let date = d.toLocaleDateString(locale, {
      day: "numeric",
      month: "long",
      year: "numeric",
    });
    let week = d.toLocaleDateString(locale, { weekday: "long" });
    let waktu = d.toLocaleDateString(locale, {
      hour: "numeric",
      minute: "numeric",
      second: "numeric",
    });
cmhit.push(command)
    //MESS
    mess = {
      wait: "\`\`\`‚ä∑Ô∏è„Äå Cargando, Por favor espere „Äç\`\`\`Ô∏é",
      success: "\`\`\`‚ä∑Ô∏è„Äå Listo hermano „Äç\`\`\`",
      wrongFormat: "\`\`\`‚ä∑Ô∏è„Äå Incorrecto „Äç\`\`\`",
      error: {
        stick: "\`\`\`‚ä∑Ô∏è„Äå Esto no es un sticker „Äç\`\`\`",
        apiz: "\`\`\`‚ä∑Ô∏è„Äå Error, Talvez la apipkey aya caducado „Äç\`\`\`",
        api: '\`\`\`‚ä∑Ô∏è„Äå Error „Äç\`\`\`',
        Iv: "\`\`\`‚ä∑Ô∏è„Äå Link invalido „Äç\`\`\`",
      },
      only: {
        group: "\`\`\`‚ä∑Ô∏è„Äå Esta funcion es solo para Grupos „Äç\`\`\`",
        admin: "\`\`\`‚ä∑Ô∏è„Äå Usted no puede usar est√° funci√≥n „Äç\`\`\`",
      },
    };

    const isUrl = (url) => {
      return url.match(
        new RegExp(
          /https?:\/\/(www\.)?[-a-zA-Z0-9@:%.+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%+.~#?&/=]*)/,
          "gi"
        )
      );
    };
  /*const reply = (teks) => {
      cnf.sendMessage(from, teks, text, { quoted: mek });
    };*/
    const textImg = (teks) => {
           return ikyy.sendMessage(from, teks, text, {quoted: freply, thumbnail: fs.readFileSync('./cnf.jpg')})
        }
const math = (teks) => {
           return Math.floor(teks)
       }
/*const reply = (teks) => {
			cnf.sendMessage(from, teks, text, { thumbnail: iye, sendEphemeral: true, quoted: mek, contextInfo: { forwardingScore: 508, isForwarded: true, externalAdReply:{title: `${jam} - ${week} ${weton} - ${date}`,body:"",previewType:"PHOTO",thumbnail:iye,sourceUrl:`https://wa.me/51902061233?text=ola%20UwU`}}})
		}*/
    const sendMess = (hehe, teks) => {
      cnf.sendMessage(hehe, teks, text);
    };

    const mentions = (teks, memberr, id) => {
      id == null || id == undefined || id == false
        ? cnf.sendMessage(from, teks.trim(), extendedText, {
            contextInfo: { mentionedJid: memberr },
          })
        : cnf.sendMessage(from, teks.trim(), extendedText, {
            quoted: mek,
            contextInfo: { mentionedJid: memberr },
          });
    };
// Fake Reply:)
    const ftroli = {
      key: {
        fromMe: false,
        participant: "0@s.whatsapp.net",
        remoteJid: "6289523258649-1604595598@g.us",
      },
      message: {
        orderMessage: {
          itemCount: 10,
          status: 200,
          thumbnail: iye,
          surface: 200,
          message: iye,
          orderTitle: "NEW ‚Ä¢·É™‡´¶‡©Æ",
          sellerJid: "0@s.whatsapp.net",
        },
      },
      contextInfo: { forwardingScore: 999, isForwarded: true },
      sendEphemeral: true,
    };
const freply = { key: { fromMe: false, participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: '16504228206@s.whatsapp.net' } : {}) }, message: { "contactMessage": { "displayName": `${pushname}`, "vcard": `BEGIN:VCARD\nVERSION:3.0\nN:XL;${pushname},;;;\nFN:${pushname},\nitem1.TEL;waid=${senderr.split('@')[0]}:${senderr.split('@')[0]}\nitem1.X-ABLabel:Ponsel\nEND:VCARD`, "jpegThumbnail":fs.readFileSync('./cnf.jpg')
        }}}
const freply7 = { key: { fromMe: false, participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: '1595603042@s.whatsapp.net' } : {}) }, message: { "productMessage":{"product": {"productImage": {"mimetype":'image/jpeg',"jpegThumbnail": iye, "title": `${ucapanWaktu} ${pushname}`, "productImageCount": 1 }, "businessOwnerJid": `0@s.whatsapp.net` }}}
}
 const fkontak = { 
                  key: {fromMe: false,participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: `0@s.whatsapp.net` } : {}) }, message: { 'contactMessage': { 'displayName': `${pushname}`, 'vcard': `BEGIN:VCARD\nVERSION:3.0\nN:XL;${pushname},;;;\nFN:${pushname},\nitem1.TEL;waid=${sender.split('@')[0]}:${sender.split('@')[0]}\nitem1.X-ABLabel:Ponsel\nEND:VCARD`, 'jpegThumbnail': fs.readFileSync('./stik/fake.jpeg')}}}
            //FAKE STICKER
            const fsticker = {
                  key: {fromMe: false,participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "16505434800@s.whatsapp.net" } : {})},"message": {"stickerMessage": { "url": "https://mmg.whatsapp.net/d/f/Am6FBfNf-E2f1VoGBXkPaNAy7L6Tw_HMavKrHEt48QM4.enc","fileSha256": "Yfj8SW7liSEnDakvyVlXVZQ1LJBC9idn09X7KHe8HTc=","fileEncSha256": "F854aUrzgAkBTOVULpne4oSIi6S04Jo56pjZEo+p+9U=","mediaKey": "Z3nA2asclAAwWHngNO/vJ81qxOE2/0gkEnXak+NxPV4=","mimetype": "image/webp","height": 64,"width": 64,"directPath": "/v/t62.15575-24/12097272_1193895144391295_8973688483514349023_n.enc?ccb=11-4&oh=5a9d7147627a8355569f1a641b9ebee3&oe=60C65E73","fileLength": "7186","mediaKeyTimestamp": "1622815545","isAnimated": false}}}
            //FAKE VN
const ftrol = {
	key : {
                          participant : '0@s.whatsapp.net'
                        },
       message: {
                    orderMessage: {
                            itemCount : 000,
                            status: 1,
                            surface : 1,
                            message: `${ucapanWaktu} ${pushname}`,
                            orderTitle: `${ucapanWaktu} ${pushname}`,
                            thumbnail: iye, 
                            sellerJid: '0@s.whatsapp.net' 
                          }
                        }
                      }
const ftroli2 = {
	key : {
                          participant : '0@s.whatsapp.net'
                        },
       message: {
                    orderMessage: {
                            itemCount : 123,
                            status: 1,
                            surface : 1,
                            message: `${ucapanWaktu} ${pushname}`,
                            orderTitle: `${ucapanWaktu} ${pushname}`,
                            thumbnail: fake,
                            sellerJid: '0@s.whatsapp.net' 
                          }
                        }
                      }
const finv = {
	"key": {
		"fromMe": false,
		"participant": "0@s.whatsapp.net",
		"remoteJid": "0@s.whatsapp.net"
	},
	"message": {
		"groupInviteMessage": {
			"groupJid": "6288213840883-1616169743@g.us",
			"inviteCode": `${ucapanWaktu} ${pushname}`,
			"groupName": `${ucapanWaktu} ${pushname}`, 
            "caption": `${ucapanWaktu} ${pushname}`, 
            'jpegThumbnail': fake
		}
	}
}
    const fdoc = {
      key: { participant: "0@s.whatsapp.net" },
      message: { documentMessage: { title: fake, jpegThumbnail: thumb } },
    };
    const fvn = {
      key: {
        participant: `51902061233@s.whatsapp.net`,
        ...(from ? { remoteJid: "6289643739077-1613049930@g.us" } : {}),
      },
      message: {
        audioMessage: {
          mimetype: "audio/ogg; codecs=opus",
          seconds: 999999,
          ptt: "true",
        },
      },
    };
    const fgif = {
      key: {
        participant: `0@s.whatsapp.net`,
        ...(from ? { remoteJid: "6289643739077-1613049930@g.us" } : {}),
      },
      message: {
        videoMessage: {
          title: fake,
          h: `Hmm`,
          seconds: "99999",
          gifPlayback: "true",
          caption: fake,
          jpegThumbnail: thumb,
        },
      },
    };
const fstick = {
"key": {
	  "participant": `0@s.whatsapp.net`,
      "remoteJid": "6289643739077-1613049930@g.us",
      "fromMe": false,
      "id": "3B64558B07848BD81108C1D14712018E"
    },
    "message": {
      "stickerMessage": {
        "fileSha256": "5b017c6ac1fb953c7bd21034d2fca5fad75ef2da4c3b2c2877ef49fa544e74bf",
		"pngThumbnail": iye,
	 "mimetype": "image/webp",
        "height": 64,
        "width": 64,
        "directPath": "/v/t62.15575-24/56110107_763365384384977_5720135628188301198_n.enc?oh=450f8f684b06f0ba2dbc9779e5f06774&oe=605B81EE",
        "fileLength": "0418",
        "firstFrameLength": 3626,
        "isAnimated": false
      }
    },
    "messageTimestamp": "1614070775",
    "status": "Pendiente"
  }
//                       STICKER

    const fgclink = {
      key: { participant: "0@s.whatsapp.net", remoteJid: "0@s.whatsapp.net" },
      message: {
        groupInviteMessage: {
          groupJid: "6288213840883-1616169743@g.us",
          inviteCode: "m",
          groupName: "P",
          caption: fake,
          jpegThumbnail: thumb,
        },
      },
    };
const fvid = {
	 key: { 
          fromMe: false,
	      participant: `51902061233@s.whatsapp.net`, ...(from ? 
	 { remoteJid: "6289643739077-1613049930@g.us" } : {}) 
                },
	 message: { 
                 "videoMessage": { 
                 "title": `${ucapanWaktu} ${pushname}`,
                 "h": `${ucapanWaktu} ${pushname}`,
                 'duration': '99999', 
                 'caption': `${ucapanWaktu} ${pushname}`,
                 'jpegThumbnail': iye
                        }
                       }
	                  }
const ftex = {
	 key: { 
          fromMe: false,
	      participant: `0@s.whatsapp.net`, ...(from ? 
	 { remoteJid: "6289643739077-1613049930@g.us" } : {}) 
                },
	 message: { 
		"extendedTextMessage": {
                 "text": `${ucapanWaktu} ${pushname}`,
                 "title": `${ucapanWaktu} ${pushname}`,
                 'jpegThumbnail': iye
                        }
	                  } 
                     }
    const floc = {
      key: { participant: "0@s.whatsapp.net" },
      message: { locationMessage: { name: fake, jpegThumbnail: thumb } },
    };
    const fakestatus = (teks) => {
      cnf.sendMessage(from, teks, text, {
        quoted: {
          key: {
            fromMe: false,
            participant: `0@s.whatsapp.net`,
            ...(from ? { remoteJid: "status@broadcast" } : {}),
          },
          message: {
            imageMessage: {
              url: "https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc",
              mimetype: "image/jpeg",
              caption: fake,
              fileSha256: "+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=",
              fileLength: "28777",
              height: 1080,
              width: 1079,
              mediaKey: "vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=",
              fileEncSha256: "sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=",
              directPath:
                "/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69",
              mediaKeyTimestamp: "1610993486",
              jpegThumbnail: fs.readFileSync("./stik/fake.jpeg"),
              scansSidecar:
                "1W0XhfaAcDwc7xh1R8lca6Qg/1bB4naFCSngM2LKO2NoP5RI7K+zLw==",
            },
          },
        },
      });
    };
    const fakethumb = (teks, yes) => {
      cnf.sendMessage(from, teks, image, {
        thumbnail: fs.readFileSync("./stik/fake.jpeg"),
        quoted: mek,
        caption: yes,
      });
    };
    const fakegroup = (teks) => {
      cnf.sendMessage(from, teks, text, {
        quoted: {
          key: {
            fromMe: false,
            participant: `0@s.whatsapp.net`,
            ...(from ? { remoteJid: "6289523258649-1604595598@g.us" } : {}),
          },
          message: {
            imageMessage: {
              url: "https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc",
              mimetype: "image/jpeg",
              caption: fake,
              fileSha256: "+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=",
              fileLength: "28777",
              height: 1080,
              width: 1079,
              mediaKey: "vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=",
              fileEncSha256: "sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=",
              directPath:
                "/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69",
              mediaKeyTimestamp: "1610993486",
              jpegThumbnail: fs.readFileSync("./stik/fake.jpeg"),
              scansSidecar:
                "1W0XhfaAcDwc7xh1R8lca6Qg/1bB4naFCSngM2LKO2NoP5RI7K+zLw==",
            },
          },
        },
      });
    };
    const sendStickerFromUrl = async (to, url) => {
      var names = Date.now() / 10000;
      var download = function (uri, filename, callback) {
        request.head(uri, function (err, res, body) {
          request(uri)
            .pipe(fs.createWriteStream(filename))
            .on("close", callback);
        });
      };
cnf.on('CB:action,,battery', json => {
		global.batteryLevelStr = json[2][0][1].value
	   global.batterylevel = parseInt(batteryLevelStr)
		baterai = batterylevel
        if (json[2][0][1].live == 'true') charging = true
       if (json[2][0][1].live == 'false') charging = false
        console.log(json[2][0][1])
		console.log('Baterai : ' + batterylevel+'%')
	})
	global.batrei = global.batrei ? global.batrei : []
		cnf.on('CB:action,,battery', json => {
		const batteryLevelStr = json[2][0][1].value
		const batterylevel = parseInt(batteryLevelStr)
		global.batrei.push(batterylevel)
		}) 
download(url, "./stik" + names + ".png", async function () {
        console.log("done");
        let filess = "./stik" + names + ".png";
        let asw = "./stik" + names + ".webp";
        exec(
          `ffmpeg -i ${filess} -vcodec libwebp -filter:v fps=fps=20 -lossless 1 -loop 0 -preset default -an -vsync 0 -s 512:512 ${asw}`,
          (err) => {
            let media = fs.readFileSync(asw);
            cnf.sendMessage(to, media, MessageType.sticker, { quoted: mek });
            fs.unlinkSync(filess);
            fs.unlinkSync(asw);
          }
        );
      });
    };
if (budy.toLowerCase() === `8473`){
		if (isRegister) return 
		    register.push(sender)
		    fs.writeFileSync('./database/user/registered.json', JSON.stringify(register))
		    teks = `Verificacion completada\n\nPorfavor Escribe *#menu* para ver mi menu`
		    cnf.sendMessage(from, teks, text, {quoted: fkontak })
}          /*if (!mek.key.fromMe && banChats === false) return*/
	              
           
const getRegisteredRandomId = () => {
            return _registered[Math.floor(Math.random() * _registered.length)].id
        }
        const addRegisteredUser = (userid, sender, age, time, serials) => {
            const obj = { id: userid, name: sender, age: age, time: time, serial: serials }
            _registered.push(obj)
            fs.writeFileSync('./database/user/registered.json', JSON.stringify(_registered))
        }
        
   
//                      BANEAR             üî•
if (isBanchat){
if (!itsMe && !isOwner)return 
}
    const ftokoo = {
      key: {
        fromMe: false,
        participant: `0@s.whatsapp.net`,
        ...(from ? { remoteJid: "16505434800@s.whatsapp.net" } : {}),
      },
      message: {
        productMessage: {
          product: {
            productImage: {
              mimetype: "image/jpeg",
              jpegThumbnail: fs.readFileSync(`./stik/fake.jpeg`),
            },
            title: "NEW ‚Ä¢·É™‡´¶‡©Æ",
            description: "Bot24/7",
            currencyCode: "USD",
            priceAmount1000: "2000",
            retailerId: "By Boss ofc",
            productImageCount: 1,
          },
          businessOwnerJid: `0@s.whatsapp.net`,
        },
      },
    };
 const ftok = {
key: {
			fromMe: false,
			participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "16505434800@s.whatsapp.net" } : {})
		},
		message: {
			"productMessage": {
				"product": {
					"productImage":{
						"mimetype": "image/jpeg",
						"jpegThumbnail": iye 
					},
					"title": `${ucapanWaktu} ${pushname}`,
					"description": `${ucapanWaktu} ${pushname}`, 
					"currencyCode": "USD",
					"priceAmount1000": "2000",
					"retailerId": `${ucapanWaktu} ${pushname}`,
					"productImageCount": 1
				},
				    "businessOwnerJid": `0@s.whatsapp.net`
		}
	}
}
    const sendMediaURL = async (to, url, text = "", mids = []) => {
      if (mids.length > 0) {
        text = normalizeMention(to, text, mids);
      }
      const fn = Date.now() / 10000;
      const filename = fn.toString();
      let mime = "";
      var download = function (uri, filename, callback) {
        request.head(uri, function (err, res, body) {
          mime = res.headers["content-type"];
          request(uri)
            .pipe(fs.createWriteStream(filename))
            .on("close", callback);
        });
      };
      download(url, filename, async function () {
        console.log("done");
        let media = fs.readFileSync(filename);
        let type = mime.split("/")[0] + "Message";
        if (mime === "image/gif") {
          type = MessageType.video;
          mime = Mimetype.gif;
        }
        if (mime.split("/")[0] === "audio") {
          mime = Mimetype.mp4Audio;
        }
        cnf.sendMessage(to, media, type, {
          quoted: mek,
          mimetype: mime,
          caption: text,
          contextInfo: { mentionedJid: mids },
        });

        fs.unlinkSync(filename);
      });
    };
const isQuotedLocation = type === 'extendedTextMessage' && content.includes('locationMessage')
///Boton de Texto

const sendButMessage = (id, text1, desc1, but = [], options = {}) => {
const buttonMessage = {
contentText: text1,
footerText: desc1,
buttons: but,
headerType: 1
}
cnf.sendMessage(id, buttonMessage, MessageType.buttonsMessage, options)
}
///Boton con Imagen
const sendButImage = async(id, text1, desc1, gam1, but = [], options = {}) => {
kma = gam1
mhan = await cnf.prepareMessage(from, kma, image)
const buttonMessages = {
imageMessage: mhan.message.imageMessage,
contentText: text1,
footerText: desc1,
buttons: but,
headerType: 4
}
cnf.sendMessage(id, buttonMessages, MessageType.buttonsMessage, options)
}
///Boton con Video
const sendButVideo = async(id, text1, desc1, vid1, but = [], options = {}) => {
kma = vid1
mhan = await cnf.prepareMessage(from, kma, video)
const buttonMessages = {
videoMessage: mhan.message.videoMessage,
contentText: text1,
footerText: desc1,
buttons: but,
headerType: 5
}
cnf.sendMessage(id, buttonMessages, MessageType.buttonsMessage, options)
}
//                  STICKER ADMIN
const sticNotAdmin = (hehe) => {

ano = fs.readFileSync('./sticker/anime/notadmin.webp')

cnf.sendMessage(hehe, ano, sticker, { quoted: mek})

}

const sticAdmin = (hehe) => {

ano = fs.readFileSync('./sticker/anime/admin.webp')

cnf.sendMessage(hehe, ano, sticker, { quoted: mek})

}
///Boton de Localizaci√≥n
const sendButLocation = async (id, text1, desc1, gam1, but = [], options = {}) => {
kma = gam1
mhan = await cnf.prepareMessage(from, kma, location)
const buttonMessages = {
locationMessage: mhan.message.locationMessage,
contentText: text1,
footerText: desc1,
buttons: but,
headerType: 6
}
cnf.sendMessage(id, buttonMessages, MessageType.buttonsMessage, options)
}
    const kick = function (from, orangnya) {
      for (let i of orangnya) {
        cnf.groupRemove(from, [i]);
      }
    };
    const add = function (from, orangnya) {
      cnf.groupAdd(from, orangnya);
    };
        const grupinv = (teks) => {
        	grup = cnf.prepareMessageFromContent(from, { "groupInviteMessage": { "groupJid": '6288213840883-1616169743@g.us', "inviteCode": 'https://chat.whatsapp.com/Dgt6', "groupName": `NewBot Inc.`, "footerText": "*24/7*", "jpegThumbnail": iye, "caption": teks}}, {quoted:mek})
            cnf.relayWAMessage(grup)
        }
const fakeitem = (teks) => {
            cnf.sendMessage(from, teks, text, {
                quoted: {
        key:{
        	fromMe:false,
        participant:`0@s.whatsapp.net`, ...(from ? {
remoteJid :"6289523258649-1604595598@g.us" }: {})
                    },message:{"orderMessage":{"orderId":"174238614569481","thumbnail":fs.readFileSync(`./stik/thumb.jpeg`),"itemCount":10,"status":"CONSULTA","surface":"CATALOG","message":`Boss ofc`,"token":"AR6xBKbXZn0Xwmu76Ksyd7rnxI+Rx87HfinVlW4lwXa6JA=="}}}, contextInfo: {"forwardingScore":999,"isForwarded":true},sendEphemeral: true})}
// Catalogo
const reply = (teks) => {
             res = cnf.prepareMessageFromContent(from,{ "orderMessage": { "itemCount": 111119999, "message": teks, "footerText": "ùòäùò≥ùò¶ùò¢ùò•ùò∞ùò≥ : ùòâùò∞ùò¥ùò¥ ùò∞ùòßùò§", "thumbnail": bgg, "surface": 'CATALOG' }}, {quoted:ftrol})
             cnf.relayWAMessage(res)
        }
const fakewa = (teks) => {        
cnf.sendMessage(from, teks, text, { thumbnail: fake, sendEphemeral: true, quoted: mek, contextInfo: { forwardingScore: 508, isForwarded: true, externalAdReply:{title: `NewBot`,body:"",previewType:"PHOTO",thumbnail:iye,sourceUrl:`https://wa.me/51902061233?text=hola%20Boss ofc`}}})
		}
const replyfakelink = (teks) => {
cnf.sendMessage(from, teks, text,{contextInfo :{text: 'Hola',
"forwardingScore": 1000000000,
isForwarded: false,
sendEphemeral: false,
"externalAdReply": {
                "title": `NewBot\n‚Ä¢Instagram (@Boss ofc)`,
                "body": "",
                "previewType": "PHOTO",
                "thumbnailUrl": "https://i.ibb.co/R6jkZmH/fg1.jpg",
                "thumbnail": fake,
                "sourceUrl": 'https://youtube.com/channel/UCv_ST3RV4JD8j1c34VMAn0Q'
},mentionedJid:[sender]}, quoted : fgif})
};
const replywa = (teks) => {
cnf.sendMessage(from, teks, text,{contextInfo :{text: 'Hola',
"forwardingScore": 1000000000,
isForwarded: false,
sendEphemeral: false,
"externalAdReply": {
                "title": `WhatsApp`,
                "body": `wa.me/51902061233`,
                "mediaType": "10",
                "mediaUrl": `wa.me/51902061233`,
                "thumbnailUrl": "https://i.ibb.co/R6jkZmH/fg1.jpg",
                "thumbnail": iye,
                "sourceUrl": `wa.me/51902061233`,
},mentionedJid:[sender]}, quoted : mek})
};
const fakeyt = (teks) => {
cnf.sendMessage(from, teks, text,{contextInfo :{text: 'Boss ofc',
"forwardingScore": 1000000000,
isForwarded: false,
sendEphemeral: false,
"externalAdReply": {
"title": `Hola ${pushname}` ,
"body": `${ucapanWaktu}`,
"mediaType": "2",
"thumbnailUrl": "https://i.ibb.co/R6jkZmH/fg1.jpg",
"mediaUrl": "https://youtube.com/channel/UCv_ST3RV4JD8j1c34VMAn0Q",
"thumbnail": fs.readFileSync('./stik/fake.jpeg'),
"sourceUrl": "",
},mentionedJid:[sender]}, quoted : fgif})
};
// Support
    const sendBug = async (target, teks) => {
      if (!teks) teks = ".";
      await cnf.relayWAMessage(
        cnf.prepareMessageFromContent(
          target,
          cnf.prepareDisappearingMessageSettingContent(0),
          {}
        ),
        { waitForAck: true }
      );
      cnf.sendMessage(target, teks, "conversation");
    };

    //FUNCION
    function clockString(ms) {
      let h = isNaN(ms) ? "--" : Math.floor(ms / 3600000);
      let m = isNaN(ms) ? "--" : Math.floor(ms / 60000) % 60;
      let s = isNaN(ms) ? "--" : Math.floor(ms / 1000) % 60;
      return [h, m, s].map((v) => v.toString().padStart(2, 0)).join(":");
    }

    cekafk(afk);
    if (!mek.key.remoteJid.endsWith("@g.us") && offline) {
      if (!mek.key.fromMe) {
        if (isAfk(mek.key.remoteJid)) return;
        addafk(mek.key.remoteJid);
        heheh = ms(Date.now() - waktu);
        cnf.sendMessage(
          mek.key.remoteJid,
          `@${owner} Actualmente estoy fuera de l√≠nea!\n\n*Raz√≥n :* Desconozco la raz√≥n\n*Desde:* 17 Horas, 12 Minutos, 5 Segundos\n\nIntentelo mas tarde`,
          MessageType.text,
          {
            contextInfo: {
              mentionedJid: [`${owner}@s.whatsapp.net`],
              stanzaId: "B826873620DD5947E683E3ABE663F263",
              participant: "0@s.whatsapp.net",
              remoteJid: "status@broadcast",
              quotedMessage: {
                imageMessage: {
                  caption: "*OFFLINE*",
                  jpegThumbnail: fs.readFileSync("./stik/fake.jpeg"),
                },
              },
            },
          }
        );
      }
    }
    if (mek.key.remoteJid.endsWith("@g.us") && offline) {
      if (!mek.key.fromMe) {
        if (mek.message.extendedTextMessage != undefined) {
          if (mek.message.extendedTextMessage.contextInfo != undefined) {
            if (
              mek.message.extendedTextMessage.contextInfo.mentionedJid !=
              undefined
            ) {
              for (let ment of mek.message.extendedTextMessage.contextInfo
                .mentionedJid) {
                if (ment === `${owner}@s.whatsapp.net`) {
                  if (isAfk(mek.key.remoteJid)) return;
                  addafk(mek.key.remoteJid);
                  heheh = ms(Date.now() - waktu);
                  cnf.sendMessage(
                    mek.key.remoteJid,
                    `@${owner} Esta Offline!\n\n *Razon :* Desconozco la raz√≥n\n *Desde :* 17 Horas, 12 Minutos, 5 Segundos\n\nVuelva a intentar mas tarde`,
                    MessageType.text,
                    {
                      contextInfo: {
                        mentionedJid: [`${owner}@s.whatsapp.net`],
                        stanzaId: "B826873620DD5947E683E3ABE663F263",
                        participant: "0@s.whatsapp.net",
                        remoteJid: "status@broadcast",
                        quotedMessage: {
                          imageMessage: {
                            caption: "*OFFLINE*",
                            jpegThumbnail: fs.readFileSync("./stik/fake.jpeg"),
                          },
                        },
                      },
                    }
                  );
                }
              }
            }
          }
        }
      }
    }

    //========================================================================================================================//
    colors = ["red", "white", "black", "blue", "yellow", "green"];
    const isMedia = type === "imageMessage" || type === "videoMessage";
    const isQuotedImage =
      type === "extendedTextMessage" && content.includes("imageMessage");
    const isQuotedVideo =
      type === "extendedTextMessage" && content.includes("videoMessage");
    const isQuotedAudio =
      type === "extendedTextMessage" && content.includes("audioMessage");
    const isQuotedSticker =
      type === "extendedTextMessage" && content.includes("stickerMessage");

/*if (listbut) console.log("[",color("command","lime"),"]",time2,color(listbut,"lime"),"from",color(sender.split("@")[0],"cyan"))*/
//list command

async function sendFileFromUrl(from, url, caption, msg, men) {
            let mime = '';
            let res = await axios.head(url)
            mime = res.headers['content-type']
            let type = mime.split("/")[0]+"Message"
            if(mime === "image/gif"){
                type = MessageType.video
                mime = Mimetype.gif
            }
            if(mime === "application/pdf"){
                type = MessageType.document
                mime = Mimetype.pdf
            }
            if(mime.split("/")[0] === "audio"){
                mime = Mimetype.mp4Audio
            }
            return cnf.sendMessage(from, await getBuffer(url), type, {caption: caption, quoted: mek, mimetype: mime, contextInfo: {"mentionedJid": men ? men : []}})
        }
    if (!isGroup && prefix && command)
      console.log(
        "\x1b[1;31m~\x1b[1;37m>",
        "[\x1b[1;32mEXEC\x1b[1;37m]",
        time,
        color(command),
        "from",
        color(sender.split("@")[0]),
        "args :",
        color(args.length)
      );
    //if (!isGroup && !isCmd) console.log('\x1b[1;31m~\x1b[1;37m>', '[\x1b[1;31mTEXT\x1b[1;37m]', time, color('Message'), 'from', color(sender.split('@')[0]), 'args :', color(args.length))
    if (prefix && command && isGroup)
      console.log(
        "\x1b[1;31m~\x1b[1;37m>",
        "[\x1b[1;32mEXEC\x1b[1;37m]",
        time,
        color(command),
        "from",
        color(sender.split("@")[0]),
        "in",
        color(groupName),
        "args :",
        color(args.length)
      );
    //if (!isCmd && isGroup) console.log('\x1b[1;31m~\x1b[1;37m>', '[\x1b[1;31mTEXT\x1b[1;37m]', time, color('Message'), 'from', color(sender.split('@')[0]), 'in', color(groupName), 'args :', color(args.length))

    const sendKontak = (from, nomor, nama, org = "") => {
      const vcard =
        "BEGIN:VCARD\n" +
        "VERSION:3.0\n" +
        "FN:" +
        nama +
        "\n" +
        "ORG:" +
        org +
        "\n" +
        "TEL;type=CELL;type=VOICE;waid=" +
        nomor +
        ":+" +
        nomor +
        "\n" +
        "END:VCARD";
      cnf.sendMessage(
        from,
        { displayname: nama, vcard: vcard },
        MessageType.contact,
        { quoted: mek }
      );
    };
    
    if (isGroup && isAntilink && !mek.key.fromMe) {
      if (budy.includes("://chat.whatsapp.com/")) {
        if (isGroupAdmins) return
        
        cnf.groupRemove(from, [sender]);
      }
    }

    if (isGroup && isAntivirtex && !mek.key.fromMe) {
      if (budy.length > 500000) {
        if (isGroupAdmins) return
        
        cnf.groupRemove(from, sender);
      }
    }
    if (isGroup && autojoin == true) {
      if (budy.includes("://chat.whatsapp.com/")) {
        console.log(
          color("[AUTO-JOIN]", "red"),
          color("Listo", "white")
        );
        cnf.query({
          json: [
            "action",
            "invite",
            `${budy.replace("https://chat.whatsapp.com/", "")}`,
          ],
        });
      }
    }
    // Runtimeüî•\\
    let settingstatus = 0;
    if (new Date() * 1 - settingstatus > 1000) {
      let _uptime = process.uptime() * 1000;
      let uptime = clockString(_uptime);

await cnf.setStatus(` `).catch((_) => _);
      settingstatus = new Date() * 1;
    }
    if (!mek.key.fromMe && banChats === true) return;
switch (command) {
			
			/*case "setreply":
        if (!isGroup) return fakegroup(mess.only.group)   
        if (!isGroupAdmins && !mek.key.fromMe) return fakegroup('Solo los administradores puede utilizar este comando') 
        if (!q) return fakegroup(mess.wrongFormat);
        fake = q;
        fakegroup(`Listo  : ${q}`);
        break;    usuario : Vidal*/
        
        /*case 'tiktoknowm':   case 'tiktok':
                                                                        if (!q) return fakegroup('No veo el Link\nEjemplo .tiktok link')
									
									if (!isUrl(args[0]) && !args[0].includes('tiktok.com')) return fakegroup('Link invalido')
									let nowem = q
									hx.ttdownloader(nowem)
									.then(result => {
										const { wm, nowm, audio } = result
										axios.get(`https://tinyurl.com/api-create.php?url=${nowm}`)
										.then(async (a) => {
                                                                                        let meno = await getBuffer(nowm)
											me = `Video enviado ‚ö°`
											cnf.sendMessage(from,meno,MessageType.video,{mimetype:'video/mp4',quoted: mek, caption:me})
											})
										}).catch((err) => fakegroup(`Error, verifique el link üßê`))
									break*/
        
              /*case "twitter":
        if (!isUrl(args[0]) && !args[0].includes("twitter.com"))
          return fakegroup(mess.Iv);
        if (!q) return fakegroup("Donde esta el link?");
        ten = args[0];
        var res = await hx.twitter(`${ten}`);
        ren = `${g.HD}`;
        sendMediaURL(from, ren, "Listo");
        break;    usuario : Vidal
      case "facebook":
        if (!q) return fakegroup("Donde est√° el link?");
        if (!isUrl(args[0]) && !args[0].includes("facebook.com"))
          return fakegroup(mess.Iv);
        
        te = args.join(" ");
        hx.fbdown(`${te}`).then((G) => {
          ten = `${G.HD}`;
          sendMediaURL(from, ten, `*Link video_normal* : ${G.Normal_video}`);
        });
        break;    usuario : Vidal
      case "instagram":
        if (!isUrl(args[0]) && !args[0].includes("instagram.com"))
          return fakegroup(mess.Iv);
        if (!q) return fakegroup("Donde esta el link?");
        
        hx.igdl(args[0]).then(async (result) => {
          for (let i of result.medias) {
            if (i.url.includes("mp4")) {
              let link = await getBuffer(i.url);
              cnf.sendMessage(from, link, video, {
                quoted: mek,
                caption: `Tipo : ${i.type}`,
              });
            } else {
              let link = await getBuffer(i.url);
              cnf.sendMessage(from, link, image, {
                quoted: mek,
                caption: `Tipo : ${i.type}`,
              });
            }
          }
        });
        break;    usuario : Vidal*/
        
        case 'setprefix':
      if (!isOwner && !mek.key.fromMe) return fakegroup('Solo mi due√±o puede usar esta funci√≥n')
       if (args.length < 1) return fakegroup(`Opciones :\n=> multi\n=> nopref`)
           if (c === 'multi'){
              multi = true
                    fakegroup(`Prefix cambiado exitosamente a ${c}`)
                } else if (c === 'nopref'){
                    multi = false
                    nopref = true
                    fakegroup(`Prefix cambiado exitosamente a ${c}`)
                } else {
                    multi = false
                    nopref = false
                    prefa = `${c}`
                    fakegroup(`Prefix cambiado exitosamente a ${c}`)
                }
                break

      case "antilink":
        if (!isGroup) return fakegroup("Solo puede ser utilizado en Grupos");
        if (!isGroupAdmins && !mek.key.fromMe) return fakegroup("Solo puede ser utilizado por un administrador");
        if (args[0] == "on") {
          if (isAntilink) return fakegroup("Listo üòé");
          antilink.push(from);
          fs.writeFileSync(
            "./database/antilink.json",
            JSON.stringify(antilink)
          );
          fakegroup("Listo, Ahora tu grupo estar√° protegido üòå");
        } else if (args[0] == "off") {
          antilink.splice(from, 1);
          fs.writeFileSync(
            "./database/antilink.json",
            JSON.stringify(antilink)
          );
          fakegroup("Listo, Este grupo ya no estar√° protegido ü§™");
        } else if (!q) {
          sendButMessage(from, `¬øQuieres activar la funci√≥n antilink?`, `Primero tienes qu√© saber √©sto al activar la funci√≥n *antilink* los integrantes ya no podr√°n enviar links al grupo, La funci√≥n excluye a los administradores üëΩ\n*ON* es para activar la funci√≥n\n*OFF* es para desactivar la funci√≥n`, [
            {
              buttonId: `antilink on`,
              buttonText: {
                displayText: `ON`,
              },
              type: 1,
            },
            {
              buttonId: `antilink off`,
              buttonText: {
                displayText: `OFF`,
              },
              type: 1,
            },
          ]);
        }
        break;    usuario : Vidal
        
        /*case 'netflix':
        if (!isGroup) return fakegroup(mess.only.group) 
groups = cnf.chats.array.filter(v => v.jid.endsWith('g.us'))
              privat = cnf.chats.array.filter(v => v.jid.endsWith('s.whatsapp.net'))
              ram2 = `${(process.memoryUsage().heapUsed / 1024 / 1024).toFixed(2)}MB / ${Math.round(require('os').totalmem / 1024 / 1024)}MB`
           
              uptime = process.uptime();
              timestampe = speed();
              totalChat = await cnf.chats.all()
              latensie = speed() - timestampe
              total = math(`${groups.length}*${privat.length}`)
if (!isGroup) return sendButMessage 
        ptod = "51902061233@s.whatsapp.net"
        dtod = '51902061233'
        stod = `${sender}`
        uwuu = '```'
        yoii = '*'
       stst = await cnf.getStatus(`${sender.split('@')[0]}@c.us`)
				stst = stst.status == 401 ? '' : stst.status
       menu = `*NETFLIX premium ULTRA HD 4K*\n\n========================\n*üçø premium ULTRA HD 4Küçø*\n*üçøCuenta completa S/ 25 üçø*\n*üçø perfil personalizadas S/10üçø*\n*üçøSeguras y confiables*\n*üçø 30 dias del servicio*\n*üçøCuentas personalizadas*\n*üçøCuentas renovables*\n*üçøEntrega de inmediata*\n*üçøsoporte 24/7 al cliente*\n========================\n*======>OJO OJITO<======*\n*üìç1¬∞=usted recibe el usuario y contrase√±a de Netflix*\n*üìç2¬∞=comprueba que todo est√© debidamente correcto*\n*üìç3¬∞=usted pasar√≠a a cancelar lo correspondiente de perfil o cuenta completa*\n========================\n*üìûContactame a mi WhatsApp üì±*\n*üëâüëâwa.me/51924112885üëàüëà*\n========================\n`
sendButLocation(from, `${menu}`,`Bot de ventas ‚úÖ`, {jpegThumbnail:netf}, [{buttonId:`injdgevnj`,buttonText:{displayText:'QUE OFERTONüçø'},type:1}], {contextInfo: { mentionedJid: [ptod,stod]}})

break*/

case 'anuncio':
groups = cnf.chats.array.filter(v => v.jid.endsWith('g.us'))
              privat = cnf.chats.array.filter(v => v.jid.endsWith('s.whatsapp.net'))
              ram2 = `${(process.memoryUsage().heapUsed / 1024 / 1024).toFixed(2)}MB / ${Math.round(require('os').totalmem / 1024 / 1024)}MB`
           
              uptime = process.uptime();
              timestampe = speed();
              totalChat = await cnf.chats.all()
              latensie = speed() - timestampe
              total = math(`${groups.length}*${privat.length}`)
if (!isGroup) return fakegroup(mess.only.group) 
if (!isOwner && !mek.key.fromMe) return
       txtt =`üö® *ATENTOS EN 24 HORAS ESTAR√â ELIMINANDO A LOS INACTIVOS Y A LOS QUE NO ENVIARON CAPTURA DE SU SUSCRIPCI√ìN DE MI  FAN PAGE, SPOTIFY Y YOUTUBE* üö®`

               buttons = [{buttonId:`vip`, 
               buttonText:{displayText: 'OKEY BRO üëç'},type:1}]


               imageMsg = (await cnf.prepareMessageMedia(fs.readFileSync(`./stik/netflix.jpeg`), 'imageMessage', {thumbnail: fs.readFileSync(`./stik/netflix.jpeg`)})).imageMessage

               buttonsMessage = {
               contentText: `${txtt}`,
               footerText: `
üó£Ô∏è *Suscr√≠bete a mi canal de Youtube* üëá
https://youtu.be/AboVKgVZjp8
üó£Ô∏è *Escuch√° mis canciones en Spotify* üëá
https://open.spotify.com/artist/6o2IFYsaiT3bJAQcA0vFYj?si=sSaYz3DZSKSKt_N7kV_J1Q
üó£Ô∏è *S√≠gueme en mi Fan Page* üëá
https://www.facebook.com/vidalsalcedozea/
üî∞ *Vendo servidores privados a full velocidad de cualquier operador :*

‚úÖùë¨ùíèùíïùíÜùíç
‚úÖùë™ùíçùíÇùíìùíê
‚úÖùë©ùíäùíïùíÜùíç
‚úÖùë¥ùíêùíóùíäùíîùíïùíÇùíì
‚úÖ ùë≠ùíçùíÇùíîùíâ ùë¥ùíêùíÉùíäùíçùíÜ

‚úÖWhatsApp : wa.me/51973504044`, imageMessage: imageMsg,
               buttons: buttons,
               headerType: 4
}
prep = await cnf.prepareMessageFromContent(from,{buttonsMessage},{quoted: ftrol})
               cnf.relayWAMessage(prep)
             
               break
               
      case "hidetag":
      case "mencionar":
        if (!isGroup) return 
        var value = args.join(" ");
        var group = await cnf.groupMetadata(from);
        var member = group["participants"];
        var mem = [];
        member.map(async (adm) => {
          mem.push(adm.id.replace("c.us", "s.whatsapp.net"));
        });
        var optionshidetag = {
          text: value,
          contextInfo: { mentionedJid: mem },
          quoted: mek,
        };
        cnf.sendMessage(from, optionshidetag, text);
        break;
        
        case 'optimizar':
             if (!isGroup) return fakegroup(mess.only.group) 
             if (!isGroupAdmins && !mek.key.fromMe) return fakegroup('Solo los administradores puede utilizar este comando')
             
             exec(`node main`)
             fakegroup('3')
             fakegroup('2')
             fakegroup('1')
             fakegroup('*Bot optimizado con √©xito* üò¥Ô∏è')
break
									

      case "eval":
        if (!isOwner && !mek.key.fromMe) return;
        cnf.sendMessage(
          from,
          JSON.stringify(eval(budy.slice(5)), null, "\t"),
          text,
          { quoted: mek }
        );
        break;    usuario : Vidal
if (!mek.key.fromMe) return;
if (_chats.startsWith('$')){
if (!isOwner)return
if (!q)return 
var itsme = `${sender}`
var split = `*NEW ‚Ä¢·É™‡´¶‡©Æ*`
const term = {
contextInfo: {
participant: itsme,
quotedMessage: {
extendedTextMessage: {
text: split,
}
}
}
}
exec(q, (err, stdout) => {
if (err) return cnf.sendMessage(from, ` ${err}`, text, { quoted: mek })
if (stdout) {
cnf.sendMessage(from, stdout, text, term)
}
})
}

      default:break
		}
		if (isTTT && iser2){
if (budy.startsWith('Y')){
  tto = ky_ttt.filter(ghg => ghg.id.includes(from))
  tty = tto[0]
  angka = tto[0].angka
  ucapan = `*üé≥ Tictactoe üé≤*

er1 @${tty.er1.split('@')[0]}=‚ùå
er2 @${tty.er2.split('@')[0]}=‚≠ï

${angka[1]}${angka[2]}${angka[3]}
${angka[4]}${angka[5]}${angka[6]}
${angka[7]}${angka[8]}${angka[9]}

Turno de = @${tty.er1.split('@')[0]}`
  cnf.sendMessage(from, ucapan, text, {quoted: mek, contextInfo:{mentionedJid: [tty.er1,tty.er2]}})
  }
if (budy.startsWith('N')){
tto = ky_ttt.filter(ghg => ghg.id.includes(from))
tty = tto[0]
naa = ky_ttt.filter(toek => !toek.id.includes(from)) 
ky_ttt = naa
cnf.sendMessage(from, `@${tty.er2.split('@')[0]} se niega a participar

*Le teme al √©xito üëéüèª*`,text,{quoted:mek,contextInfo:{mentionedJid:[tty.er2]}})
}
}

if (isTTT && iser1){
nuber = parseInt(budy)
if (isNaN(nuber)) return
if (nuber < 1 || nuber > 9) return fakegroup('Ingrese los n√∫meros correctamente')
main = ky_ttt.filter(hjh => hjh.id.includes(from)) 
if (!tttawal.includes(main[0].angka[nuber])) return fakegroup('Ya lleno, utiliza los otros vac√≠os')
if (main[0].gilir.includes(sender)) return fakegroup('Espera tu turno!.')
s = '‚ùå'
main[0].angka[nuber] = s
main[0].gilir = main[0].er1
naa = ky_ttt.filter(hhg => !hhg.id.includes(from))
ky_ttt = naa
pop = main[0]
ky_ttt.push(pop)
tto = ky_ttt.filter(hgh => hgh.id.includes(from))
tty = tto[0]
angka = tto[0].angka
ttt = `${angka[1]}${angka[2]}${angka[3]}\n${angka[4]}${angka[5]}${angka[6]}\n${angka[7]}${angka[8]}${angka[9]}`

ucapmenang = () => {
ucapan1 = `*üé≥ Resultado üé≤*

*El ganador es* : @${tty.er1.split('@')[0]}\n`
ucapan2 = `*üé≥ Result üé≤*

*El resultado final:*

${ttt}`
cnf.sendMessage(from, ucapan1, text, {quoted:mek, contextInfo:{mentionedJid: [tty.er1]}})
naa = ky_ttt.filter(hhg => !hhg.id.includes(from))
return ky_ttt = naa
}

if (angka[1] == s && angka[2] == s && angka[3] == s) return ucapmenang()

if (angka[1] == s && angka[4] == s && angka[7] == s) return ucapmenang()

if (angka[1] == s && angka[5] == s && angka[9] == s) return ucapmenang()

if (angka[2] == s && angka[5] == s && angka[8] == s) return ucapmenang()

if (angka[4] == s && angka[5] == s && angka[6] == s) return ucapmenang()

if (angka[7] == s && angka[8] == s && angka[9] == s) return ucapmenang()

if (angka[3] == s && angka[5] == s && angka[7] == s) return ucapmenang()

if (angka[3] == s && angka[6] == s && angka[9] == s) return ucapmenang()

if (!ttt.includes('1Ô∏è‚É£') && !ttt.includes('2Ô∏è‚É£') && !ttt.includes('3Ô∏è‚É£') && ! ttt.includes('4Ô∏è‚É£') && !
ttt.includes('5Ô∏è‚É£') && !
ttt.includes('6Ô∏è‚É£') && ! ttt.includes('7Ô∏è‚É£') && ! ttt.includes('8Ô∏è‚É£') && ! ttt.includes('9Ô∏è‚É£')){
ucapan1 = `*üé≥ Resultado üé≤*

*_Empate üëéüèª_*`
ucapan2 = `*üé≥ Resultado üé≤*

*El resultado final:*

${ttt}`
fakegroup(ucapan1)
naa = ky_ttt.filter(hhg => !hhg.id.includes(from))
return ky_ttt = naa
}
ucapan = `*üé≥ Tictactoe üé≤*

er2 @${tty.er2.split('@')[0]}=‚≠ï
er1 @${tty.er1.split('@')[0]}=‚ùå

${ttt}

Turno de = @${tty.er2.split('@')[0]}`
 cnf.sendMessage(from, ucapan, text, {quoted: mek, contextInfo:{mentionedJid: [tty.er1,tty.er2]}})
}
if (isTTT && iser2){
nuber = parseInt(budy)
if (isNaN(nuber)) return
if (nuber < 1 || nuber > 9) return fakegroup('Ingrese el n√∫mero correctamente')
main = ky_ttt.filter(hjh => hjh.id.includes(from)) 
if (!tttawal.includes(main[0].angka[nuber])) return fakegroup('Ya lleno, utiliza los otros')
if (main[0].gilir.includes(sender)) return fakegroup('Espera tu turno!.')
s = '‚≠ï'
main[0].angka[nuber] = s
main[0].gilir = main[0].er2
naa = ky_ttt.filter(hhg => !hhg.id.includes(from))
ky_ttt = naa
pop = main[0]
ky_ttt.push(pop)
tto = ky_ttt.filter(hgh => hgh.id.includes(from))
tty = tto[0]
angka = tto[0].angka
ttt = `${angka[1]}${angka[2]}${angka[3]}\n${angka[4]}${angka[5]}${angka[6]}\n${angka[7]}${angka[8]}${angka[9]}`

ucapmenang = () => {
ucapan1 = `*üé≥ Resultado üé≤*

*El ganador es* : @${tty.er2.split('@')[0]}\n`
ucapan2 = `*üé≥ Tictactoe üé≤*

*El resultado final:*

${ttt}`
cnf.sendMessage(from, ucapan1, text, {quoted:mek, contextInfo:{mentionedJid: [tty.er2]}})
naa = ky_ttt.filter(hhg => !hhg.id.includes(from))
return ky_ttt = naa
}

if (angka[1] == s && angka[2] == s && angka[3] == s) return ucapmenang()
if (angka[1] == s && angka[4] == s && angka[7] == s) return ucapmenang()
if (angka[1] == s && angka[5] == s && angka[9] == s) return ucapmenang()
if (angka[2] == s && angka[5] == s && angka[8] == s) return ucapmenang()
if (angka[4] == s && angka[5] == s && angka[6] == s) return ucapmenang()
if (angka[7] == s && angka[8] == s && angka[9] == s) return ucapmenang()
if (angka[3] == s && angka[5] == s && angka[7] == s) return ucapmenang()
if (angka[3] == s && angka[6] == s && angka[9] == s) return ucapmenang()
if (!ttt.includes('1Ô∏è‚É£') && !ttt.includes('2Ô∏è‚É£') && !ttt.includes('3Ô∏è‚É£') && ! ttt.includes('4Ô∏è‚É£') && !
ttt.includes('5Ô∏è‚É£') && !
ttt.includes('6Ô∏è‚É£') && ! ttt.includes('7Ô∏è‚É£') && ! ttt.includes('8Ô∏è‚É£') && ! ttt.includes('9Ô∏è‚É£')){
ucapan1 = `*üé≥ Resultado üé≤*

*Empate üëéüèª*`
ucapan2 = `*üé≥ Resultado üé≤*

*El resultado final:*

${ttt}`
fakegroup(ucapan1)
naa = ky_ttt.filter(hhg => !hhg.id.includes(from))
return ky_ttt = naa
}
ucapan = `*üé≥ Tictactoe üé≤*

er1 @${tty.er1.split('@')[0]}=‚≠ï
er2 @${tty.er2.split('@')[0]}=‚ùå

${ttt}
 
Turno de = @${tty.er1.split('@')[0]}`
 cnf.sendMessage(from, ucapan, text, {quoted: mek, contextInfo:{mentionedJid: [tty.er1,tty.er2]}})
    }

    if (isGroup && budy != undefined) {
    } else {
      console.log(
        color("Creador", "red"),
        "Boss ofc",
        color(sender.split("@")[0])
      );
    }
   } catch (e) {
    e = String(e); 
    if (!e.includes("this.isZero") && !e.includes("jid") && !e.includes("Cannot read property 'fromMe' of undefined") && !e.includes("Cannot use 'in' operator to search for 'text' in undefined") && !e.includes("Cannot read property 'key' of undefined") && !e.includes("Cannot use 'in' operator to search for 'text' in undefined")) {
      console.log("Message : %s", color(e, "yellow"));
    }
    // console.log(e)
  }
};
